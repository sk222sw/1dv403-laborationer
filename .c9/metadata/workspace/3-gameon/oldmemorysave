{"filter":false,"title":"oldmemorysave","tooltip":"/3-gameon/oldmemorysave","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":104,"column":32},"action":"insert","lines":["\"use strict\";","","var Memory = {","    turned: 0,     ","    oneTurned: 0,       //håller reda på om 1 bricka redan vänts upp.    ","    lastTurned: null,    //håller reda på vad förra brickan hade för array-index","    thisTurned: null,    //håller reda på vad denna bricka har för array-index","    maxTurned: null,    //används för att kolla när man vinner.    ","    twoCardArray: [],","    ","    init: function(){","        var cols = 4;   ","        var rows = 4;","        var picArray = RandomGenerator.getPictureArray(cols, rows);","        Memory.maxTurned = cols * rows;    //håller reda på hur många brickor ","                                           //som ska vara vända när man vinner.","        console.log(\"init oneturned är \" + Memory.oneTurned);                                   ","        Memory.generateAll(picArray);","    },","    ","    newGame: function(){","        var cols = 4;","        var rows = 4;","        var picArray = RandomGenerator.getPictureArray(cols, rows);","        var maxTurned = cols * rows;","    },","    ","    //Loopar igenom arrayen och skickar med indexet till generatePic()","    generateAll: function(picArray) {","        for (var i = 0; i < picArray.length; i++) {","            var arrayIndex = picArray[i];","            var thisPic = arrayIndex;","            Memory.generatePic(thisPic, arrayIndex);","        }","        return false;","    },","    ","    //Genererar en bild med dess attribut","    generatePic: function(thisPic, arrayIndex) {","        var memory = document.getElementById(\"memory\");","        var picture = document.createElement(\"img\");","        ","        picture.setAttribute(\"id\", thisPic);","        picture.setAttribute(\"class\", \"defaultImage\");","        memory.appendChild(picture);","        ","            picture.onclick = function() {","                picture.removeAttribute(\"src\");","                picture.setAttribute(\"src\", \"memory/pics/\" + thisPic + \".png\");","                ","                console.log(\"Du klickade på bilden med ID: \" + picture.getAttribute(\"id\"));","                console.log(\"Förra brickan var \" + Memory.lastTurned);","                ","            //Om ingen bricka är vänd än    ","            if (Memory.oneTurned === 0) {","                Memory.oneTurned = 1;","                ","            }    ","            //om en bricka redan är vänd","            else {","                Memory.oneTurned = 0;                ","                //Om den redan uppvända brickan är samma som den som vänds upp nu","                if (Memory.lastTurned === thisPic) {","                    Memory.matchingBricks(thisPic);","                }","                //annars vänds de tillbaka","                else {","                    Memory.thisTurned = null;","                    last = document.getElementById(\"lastPic\");","                    ","                    //Ändra tillbaka efter lite tid","                    setTimeout(function(){","                        picture.removeAttribute(\"src\");","                        //picture.setAttribute(\"src\", \"memory/pics/\" + 0 + \".png\"); ","                        picture.setAttribute(\"class\", \"defaultImage\");","                    }, 2000);       ","                    ","                }","            }","                console.log(\"oneTurned är \" + Memory.oneTurned);","                Memory.lastTurned = thisPic;","                var last = Memory.lastTurned;","            }; //onclick stop","","        return false;","    },","    ","    changeLastPic: function(){","        ","    },","    ","    //När två brickor matchas körs denna funktion:","    matchingBricks: function(thisPic) {","        Memory.turned += 2;","        console.log(\"Nu äre \" + Memory.turned);","        if (Memory.turned === Memory.maxTurned) {","            alert(\"Du vann!\");","        }","    }","","    ","    ","};","","window.onload = Memory.init;    "]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":104,"column":32},"end":{"row":104,"column":32},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1420220911129,"hash":"cb1538e596afdedfa3bda5e01d59db524a2787cd"}